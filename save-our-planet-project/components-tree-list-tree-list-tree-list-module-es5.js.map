{"version":3,"sources":["webpack:///src/app/components/tree-list/tree-category/tree-category.component.ts","webpack:///src/app/components/tree-list/tree-category/tree-category.component.html","webpack:///src/app/components/tree-list/tree-list/tree-list-routing.module.ts","webpack:///src/app/components/tree-list/tree-list/tree-list.component.ts","webpack:///src/app/components/tree-list/tree-list/tree-list.component.html","webpack:///src/app/components/tree-list/tree-list/tree-list.module.ts","webpack:///src/app/components/tree-list/tree-product/tree-product.component.ts","webpack:///src/app/components/tree-list/tree-product/tree-product.component.html","webpack:///src/app/components/tree-list/tree/tree.component.ts","webpack:///src/app/components/tree-list/tree/tree.component.html","webpack:///src/app/guards/tree-list/can-leave-tree-category.guard.ts","webpack:///src/app/guards/tree-list/can-proceed-to-tree-category.guard.ts","webpack:///src/app/guards/tree-list/can-proceed-to-tree.guard.ts","webpack:///src/app/pipes/tree-list/format-tree-category-title.pipe.ts"],"names":["TreeCategoryComponent","_activatedRoute","_store$","_router","_facadeTreeListService","_destroySubject$","_windowScrollHeight","scrollUpButton","document","querySelector","window","addEventListener","scrollY","classList","add","remove","params","pipe","subscribe","treeCategory","categoryName","Boolean","searchTreeCategoryTrees","select","treeCategoryTrees","isTreeRouterMode","treeMode","donationListBeforeRegistration","_donationListBeforeRegistration","next","complete","goFromTreeRouter","navigate","scrollTo","deactivateQuestion","confirm","goToTreeCategoryRouter","scrollTop","selector","templateUrl","styleUrls","routes","path","component","canActivate","canDeactivate","children","TreeListRoutingModule","forChild","imports","exports","TreeListComponent","treeTypeHtmlElement","treeTypeContent","innerHTML","toLowerCase","split","join","switchRouter","TreeListModule","declarations","providers","bootstrap","TreeProductComponent","_treeCategoryName","currentTreeName","tree","name","currentTreeRouterName","replace","goToCurrentTreeRouter","TreeComponent","_facadeDonationListService","isSearchLoading","descriptionMode","treeBuyNumber","initTreeNumberForm","myFormTreeNumber","treeDonationNumber","required","donationTreeNumberValidator","control","currentDonationTreeNumber","Number","value","maxTreeBuyNumber","isNaN","userNameInputControlName","currentTreeBuyNumber","controls","_appNavigationDonationButton","removeTreeBuyNumber","isSelectedTree","isSelectedTreeForDonation","treeName","searchTree","goToTreeRouterMode","searTreeDelay","totalCost","cost","searchTreeSuccess","valueChanges","treeNumber","valid","currentFormTreeBuyNumberAfterMinus","String","patchValue","canMinusTreeNumber","isCanMinusTreeNumber","currentFormTreeBuyNumberAfterPlus","chosenTreeNumber","donation","Date","initNewUserDonationBeforeRegistration","CanLeaveTreeCategoryGuard","CanProceedToTreeCategoryGuard","currentCategoryName","treeType","isTreeTypeExist","isExistTreeType","errorMessage","Error","CanProceedToTreeGuard","isExistTreeCategory","currentTreeType","_currentUrl","includes","treeRouteName","isExistCurrentUrlTree","_treeList","find","currentTreeRouteName","isExistTreeCategoryRouteName","type","state","url","treeList","checkTree","unsubscribe","FormatTreeCategoryTitlePipe","map","currentWord","toUpperCase","slice"],"mappings":"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","file":"components-tree-list-tree-list-tree-list-module-es5.js","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { takeUntil, delay } from 'rxjs/operators';\r\nimport { Store } from '@ngrx/store';\r\nimport { selectTreeCategoryTrees, selectIsTreeRouterModeAction } from 'src/app/store/tree-list/tree-list.selectors';\r\nimport { Tree } from 'src/app/models/tree-list/tree';\r\nimport { FacadeServiceTreeList } from 'src/app/store/tree-list/tree-list.facade';\r\nimport { selectDonationListBeforeRegistration } from 'src/app/store/donation-list/donation-list.selectors';\r\nimport { Donation } from 'src/app/models/donation-list/donation';\r\n\r\n@Component({\r\n\tselector: 'app-tree-category',\r\n\ttemplateUrl: './tree-category.component.html',\r\n\tstyleUrls: ['./tree-category.component.scss']\r\n})\r\nexport class TreeCategoryComponent implements OnInit, OnDestroy {\r\n\r\n\tprivate _destroySubject$: Subject<boolean> = new Subject();\r\n\r\n\tprivate _windowScrollHeight: number = 20;\r\n\r\n\tprivate _donationListBeforeRegistration: Donation[];\r\n\r\n\tpublic treeCategory: string;\r\n\r\n\tpublic treeCategoryTrees: Tree[];\r\n\r\n\tpublic treeMode: boolean;\r\n\r\n\tconstructor(\r\n\t\tprivate _activatedRoute: ActivatedRoute,\r\n\t\tprivate _store$: Store,\r\n\t\tprivate _router: Router,\r\n\t\tprivate _facadeTreeListService: FacadeServiceTreeList\r\n\t) { }\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tconst scrollUpButton: HTMLElement = document.querySelector('.-app-scroll-up-button_tree-category');\r\n\r\n\t\twindow.addEventListener('scroll', () => {\r\n\t\t\tif (window.scrollY > this._windowScrollHeight) {\r\n\t\t\t\tscrollUpButton.classList.add('-app-scroll-up-button_tree-category-visible');\r\n\t\t\t} else {\r\n\t\t\t\tscrollUpButton.classList.remove('-app-scroll-up-button_tree-category-visible');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._activatedRoute.params\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((params: Params) => {\r\n\t\t\t\tthis.treeCategory = params.categoryName;\r\n\t\t\t\tif (Boolean(this.treeCategory)) {\r\n\t\t\t\t\tthis._facadeTreeListService.searchTreeCategoryTrees(this.treeCategory);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tthis._store$.select(selectTreeCategoryTrees)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((treeCategoryTrees: Tree[]) => {\r\n\t\t\t\tthis.treeCategoryTrees = treeCategoryTrees;\r\n\t\t\t});\r\n\t\tthis._store$.select(selectIsTreeRouterModeAction)\r\n\t\t\t.pipe(\r\n\t\t\t\tdelay(0),\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((isTreeRouterMode: boolean) => {\r\n\t\t\t\tthis.treeMode = isTreeRouterMode;\r\n\t\t\t});\r\n\t\tthis._store$.select(selectDonationListBeforeRegistration)\r\n\t\t\t.pipe(\r\n\t\t\t\tdelay(0),\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((donationListBeforeRegistration: Donation[]) => {\r\n\t\t\t\tthis._donationListBeforeRegistration = donationListBeforeRegistration;\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic ngOnDestroy(): void {\r\n\t\tthis._destroySubject$.next(true);\r\n\t\tthis._destroySubject$.complete();\r\n\t\tthis._facadeTreeListService.goFromTreeRouter();\r\n\t}\r\n\r\n\tpublic goToTreeCategoryRouter(): void {\r\n\t\tthis._facadeTreeListService.goFromTreeRouter();\r\n\t\tthis._router.navigate(['/trees', 'tree-category', this.treeCategory]);\r\n\t}\r\n\r\n\tpublic scrollTop(): void {\r\n\t\twindow.scrollTo(0, 0);\r\n\t}\r\n\r\n\tpublic canDeactivate(): boolean {\r\n\t\tconst deactivateQuestion: string = 'You havenâ€™t chosen any tree. Are you sure that you want to go from this page? For donation you need at least one tree';\r\n\t\treturn (!Boolean(this._donationListBeforeRegistration))\r\n\t\t\t? confirm(deactivateQuestion)\r\n\t\t\t: true;\r\n\t}\r\n\r\n}\r\n","<div \r\n    class=\"-app-tree-category\"\r\n    [class.-app-tree-category_tree-mode]=\"treeMode\">\r\n    <h2 class=\"-app-tree-category__title\">\r\n        {{ treeCategory | formatTreeCategoryTitle }}\r\n    </h2>\r\n    <ng-container>\r\n        <app-tree-product\r\n            class=\"-app-tree-category__product\"\r\n            *ngFor=\"let tree of treeCategoryTrees\"\r\n            [tree]=\"tree\">\r\n        </app-tree-product>\r\n    </ng-container>\r\n</div>\r\n<div\r\n    class=\"-app-tree-category__back-button\"\r\n    [class.-app-tree-category__back-button_tree-mode]=\"treeMode\"\r\n    (click)=\"goToTreeCategoryRouter()\">\r\n</div>\r\n<a \r\n    class=\"-app-scroll-up-button -app-scroll-up-button_tree-category\"\r\n    (click)=\"scrollTop()\">\r\n</a>\r\n<router-outlet></router-outlet>\r\n","import { Routes, RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { TreeListComponent } from './tree-list.component';\r\nimport { TreeCategoryComponent } from '../tree-category/tree-category.component';\r\nimport { TreeComponent } from '../tree/tree.component';\r\nimport { CanProceedToTreeCategoryGuard } from 'src/app/guards/tree-list/can-proceed-to-tree-category.guard';\r\nimport { CanProceedToTreeGuard } from 'src/app/guards/tree-list/can-proceed-to-tree.guard';\r\nimport { CanLeaveTreeCategoryGuard } from 'src/app/guards/tree-list/can-leave-tree-category.guard';\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: TreeListComponent\r\n\t},\r\n\t{\r\n\t\tpath: 'tree-category/:categoryName',\r\n\t\tcomponent: TreeCategoryComponent,\r\n\t\tcanActivate: [CanProceedToTreeCategoryGuard],\r\n\t\tcanDeactivate: [CanLeaveTreeCategoryGuard],\r\n\t\tchildren: [{\r\n\t\t\tpath: 'tree/:treeName',\r\n\t\t\tcomponent: TreeComponent,\r\n\t\t\tcanActivate: [CanProceedToTreeGuard]\r\n\t\t}]\r\n\t},\r\n\t{\r\n\t\tpath: 'tree-category/:categoryName#header',\r\n\t\tcomponent: TreeCategoryComponent\r\n\t}\r\n];\r\n\r\n@NgModule({\r\n\timports: [RouterModule.forChild(routes)],\r\n\texports: [RouterModule]\r\n})\r\nexport class TreeListRoutingModule {\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n\tselector: 'app-tree-list',\r\n\ttemplateUrl: './tree-list.component.html',\r\n\tstyleUrls: ['./tree-list.component.scss']\r\n})\r\nexport class TreeListComponent {\r\n\r\n\tconstructor(\r\n\t\tprivate _router: Router\r\n\t) { }\r\n\r\n\tpublic switchRouter(treeTypeHtmlElement: HTMLElement): void {\r\n\t\tconst treeTypeContent: string = treeTypeHtmlElement.innerHTML;\r\n\t\tconst treeCategory: string = treeTypeContent.toLowerCase().split(' ').join('-');\r\n\t\tthis._router.navigate(['/trees', 'tree-category', treeCategory]);\r\n\t}\r\n}\r\n","<div class=\"-app-trees\">\r\n    <div class=\"-app-trees__design-block -app-trees__design-block_upper-left-corner\"></div>\r\n    <div class=\"-app-trees__design-block -app-trees__design-block_bottom-right-corner\"></div>\r\n    <div class=\"-app-trees__design-block -app-trees__design-block_upper-right-corner\"></div>\r\n    <div class=\"-app-trees__design-block -app-trees__design-block_bottom-left-corner\"></div>\r\n    <div class=\"-app-trees__bird-container -app-trees__bird-container_first\">\r\n        <div class=\"-app-trees__bird -app-trees__bird_first\"></div>\r\n    </div>\r\n    <div class=\"-app-trees__bird-container -app-trees__bird-container_second\">\r\n        <div class=\"-app-trees__bird -app-trees__bird_second\"></div>\r\n    </div>\r\n    <h1 class=\"-app-trees__title\">\r\n        Save Our Planet\r\n    </h1>\r\n    <div class=\"-app-trees__menu-list\">\r\n        <div \r\n            class=\"-app-trees__menu-item -app-trees__menu-item_native\" \r\n            (click)=\"switchRouter(native)\">\r\n            <div class=\"-app-trees__item\">\r\n                <h3 \r\n                    class=\"-app-trees__item-title\" \r\n                    #native>Native Trees</h3>\r\n                <img class=\"-app-trees__item-image -app-trees__item-image_native\">\r\n                <h4 class=\"-app-trees__item-sub-title\">\r\n                    View Products\r\n                </h4>\r\n            </div>\r\n        </div>\r\n        <div \r\n            class=\"-app-trees__menu-item -app-trees__menu-item_arboretum\" \r\n            (click)=\"switchRouter(arboretum)\">\r\n            <div class=\"-app-trees__item\">\r\n                <h3 \r\n                    class=\"-app-trees__item-title\" \r\n                    #arboretum>Arboretum Species</h3>\r\n                <img class=\"-app-trees__item-image -app-trees__item-image_arboretum\">\r\n                <h4 class=\"-app-trees__item-sub-title\">\r\n                    View Products\r\n                </h4>\r\n            </div>\r\n        </div>\r\n        <div \r\n            class=\"-app-trees__menu-item -app-trees__menu-item_patio\"\r\n            (click)=\"switchRouter(patio)\">\r\n            <div class=\"-app-trees__item\">\r\n                <h3 \r\n                    class=\"-app-trees__item-title\" \r\n                    #patio>Patio Fruit Trees</h3>\r\n                <img class=\"-app-trees__item-image -app-trees__item-image_patio\">\r\n                <h4 class=\"-app-trees__item-sub-title\">\r\n                    View Products\r\n                </h4>\r\n            </div>\r\n        </div>\r\n        <div \r\n            class=\"-app-trees__menu-item -app-trees__menu-item_evergreen\"\r\n            (click)=\"switchRouter(evergreen)\">\r\n            <div class=\"-app-trees__item\">\r\n                <h3 \r\n                    class=\"-app-trees__item-title\" \r\n                    #evergreen>Evergreen</h3>\r\n                <img class=\"-app-trees__item-image -app-trees__item-image_evergreen\">\r\n                <h4 class=\"-app-trees__item-sub-title\">\r\n                    View Products\r\n                </h4>\r\n            </div>\r\n        </div>\r\n        <div \r\n            class=\"-app-trees__menu-item -app-trees__menu-item_potgrown\"\r\n            (click)=\"switchRouter(potgrown)\">\r\n            <div class=\"-app-trees__item\">\r\n                <h3 \r\n                    class=\"-app-trees__item-title\" \r\n                    #potgrown>Pot Grown Trees</h3>\r\n                <img class=\"-app-trees__item-image -app-trees__item-image_potgrown\">\r\n                <h4 class=\"-app-trees__item-sub-title\">\r\n                    View Products\r\n                </h4>\r\n            </div>\r\n        </div>\r\n        <div \r\n            class=\"-app-trees__menu-item -app-trees__menu-item_shrubs\"\r\n            (click)=\"switchRouter(shrubs)\">\r\n            <div class=\"-app-trees__item\">\r\n                <h3 \r\n                    class=\"-app-trees__item-title\" \r\n                    #shrubs>Shrubs</h3>\r\n                <img class=\"-app-trees__item-image -app-trees__item-image_shrubs\">\r\n                <h4 class=\"-app-trees__item-sub-title\">\r\n                    View Products\r\n                </h4>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { TreeListComponent } from './tree-list.component';\r\nimport { TreeCategoryComponent } from '../tree-category/tree-category.component';\r\nimport { TreeProductComponent } from '../tree-product/tree-product.component';\r\nimport { TreeComponent } from '../tree/tree.component';\r\nimport { TreeListRoutingModule } from './tree-list-routing.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CanProceedToTreeCategoryGuard } from 'src/app/guards/tree-list/can-proceed-to-tree-category.guard';\r\nimport { CanProceedToTreeGuard } from 'src/app/guards/tree-list/can-proceed-to-tree.guard';\r\nimport { CanLeaveTreeCategoryGuard } from 'src/app/guards/tree-list/can-leave-tree-category.guard';\r\nimport { FormatTreeCategoryTitlePipe } from 'src/app/pipes/tree-list/format-tree-category-title.pipe';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tTreeListComponent,\r\n\t\tTreeCategoryComponent,\r\n\t\tTreeProductComponent,\r\n\t\tTreeComponent,\r\n\t\tFormatTreeCategoryTitlePipe\r\n\t],\r\n\timports: [\r\n\t\tTreeListRoutingModule,\r\n\t\tCommonModule,\r\n\t\tFormsModule,\r\n\t\tReactiveFormsModule\r\n\t],\r\n\tproviders: [\r\n\t\tCanProceedToTreeCategoryGuard,\r\n\t\tCanProceedToTreeGuard,\r\n\t\tCanLeaveTreeCategoryGuard\r\n\t],\r\n\tbootstrap: [TreeListComponent]\r\n})\r\nexport class TreeListModule {\r\n\r\n}\r\n","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\r\nimport { Tree } from 'src/app/models/tree-list/tree';\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n\tselector: 'app-tree-product',\r\n\ttemplateUrl: './tree-product.component.html',\r\n\tstyleUrls: ['./tree-product.component.scss']\r\n})\r\nexport class TreeProductComponent implements OnInit, OnDestroy {\r\n\r\n\tprivate _destroySubject$: Subject<boolean> = new Subject();\r\n\r\n\tprivate _treeCategoryName: string;\r\n\r\n\t@Input()\r\n\tpublic tree: Tree;\r\n\r\n\tconstructor(\r\n\t\tprivate _activatedRoute: ActivatedRoute,\r\n\t\tprivate _router: Router\r\n\t) { }\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis._activatedRoute.params\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$),\r\n\t\t\t).subscribe((params: Params) => {\r\n\t\t\t\tthis._treeCategoryName = params.categoryName;\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic ngOnDestroy(): void {\r\n\t\tthis._destroySubject$.next(true);\r\n\t\tthis._destroySubject$.complete();\r\n\t}\r\n\r\n\tpublic goToCurrentTreeRouter(): void {\r\n\t\tconst currentTreeName: string = this.tree.name;\r\n\t\tconst currentTreeRouterName: string = currentTreeName.replace(/\\(|\\)/g, '').toLowerCase().split(' ').join('-');\r\n\t\tthis._router.navigate(['/trees', 'tree-category', this._treeCategoryName, 'tree', currentTreeRouterName]);\r\n\t}\r\n\r\n}\r\n","<div \r\n    class=\"-app-tree-product\"\r\n    (click)=\"goToCurrentTreeRouter()\">\r\n    <h2 class=\"-app-tree-product__title\">\r\n        {{ tree.name }}\r\n    </h2>\r\n    <img class=\"-app-tree-product__image\">\r\n    <div class=\"-app-tree-product__sub-title\">\r\n        View Product\r\n    </div>\r\n</div>","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Tree } from 'src/app/models/tree-list/tree';\r\nimport { takeUntil, delay } from 'rxjs/operators';\r\nimport { selectSearchTree, selectIsTreeSearchLoading, selectIsSelectedTree } from 'src/app/store/tree-list/tree-list.selectors';\r\nimport { FacadeServiceDonationList } from 'src/app/store/donation-list/donation-list.facade';\r\nimport { Donation } from 'src/app/models/donation-list/donation';\r\nimport { TreeDonation } from 'src/app/models/tree-list/tree-donation';\r\nimport { FacadeServiceTreeList } from 'src/app/store/tree-list/tree-list.facade';\r\nimport { selectDonationListBeforeRegistration } from 'src/app/store/donation-list/donation-list.selectors';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n\tselector: 'app-tree',\r\n\ttemplateUrl: './tree.component.html',\r\n\tstyleUrls: ['./tree.component.scss']\r\n})\r\nexport class TreeComponent implements OnInit, OnDestroy {\r\n\r\n\tprivate _destroySubject$: Subject<boolean> = new Subject();\r\n\r\n\tprivate _appNavigationDonationButton: HTMLElement;\r\n\r\n\tprivate _donationListBeforeRegistration: Donation[] = null;\r\n\r\n\tpublic tree: Tree;\r\n\tpublic isSearchLoading: boolean = true;\r\n\r\n\tpublic descriptionMode: boolean = true;\r\n\r\n\tpublic treeBuyNumber: number = 1;\r\n\tpublic totalCost: number;\r\n\tpublic canMinusTreeNumber: boolean;\r\n\r\n\tpublic isSelectedTree: boolean;\r\n\r\n\tpublic myFormTreeNumber: FormGroup;\r\n\r\n\tconstructor(\r\n\t\tprivate _activatedRoute: ActivatedRoute,\r\n\t\tprivate _store$: Store,\r\n\t\tprivate _facadeDonationListService: FacadeServiceDonationList,\r\n\t\tprivate _facadeTreeListService: FacadeServiceTreeList,\r\n\t\tprivate _router: Router\r\n\t) {\r\n\t\tthis.initTreeNumberForm();\r\n\t}\r\n\r\n\tprivate initTreeNumberForm(): void {\r\n\t\tthis.myFormTreeNumber = new FormGroup({\r\n\t\t\ttreeDonationNumber: new FormControl('1', [\r\n\t\t\t\tValidators.required,\r\n\t\t\t\tthis.donationTreeNumberValidator\r\n\t\t\t])\r\n\t\t});\r\n\t}\r\n\r\n\tprivate donationTreeNumberValidator(control: FormControl): { [s: string]: boolean } {\r\n\t\tconst currentDonationTreeNumber: number = Number(control.value);\r\n\r\n\t\tconst maxTreeBuyNumber: number = 50;\r\n\t\tif (\r\n\t\t\t!isNaN(currentDonationTreeNumber)\r\n\t\t\t&& currentDonationTreeNumber > 0\r\n\t\t\t&& currentDonationTreeNumber <= maxTreeBuyNumber) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\treturn { userNameInputControlName: true };\r\n\t\t}\r\n\t}\r\n\r\n\tprivate isCanMinusTreeNumber(): boolean {\r\n\t\tconst currentTreeBuyNumber: number = Number(this.myFormTreeNumber.controls.treeDonationNumber.value);\r\n\t\treturn (currentTreeBuyNumber > 1) ? true : false;\r\n\t}\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis._appNavigationDonationButton = document.querySelector('.-app-navigation__donation-button');\r\n\r\n\t\tthis._activatedRoute.params\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((params: Params) => {\r\n\t\t\t\tthis._appNavigationDonationButton.classList.remove('-app-navigation__donation-button_blinking');\r\n\r\n\t\t\t\tthis.descriptionMode = true;\r\n\t\t\t\tthis.removeTreeBuyNumber();\r\n\t\t\t\tthis.isSelectedTree = false;\r\n\t\t\t\tthis._facadeTreeListService.isSelectedTreeForDonation(params.treeName, this._donationListBeforeRegistration);\r\n\t\t\t\tthis._facadeTreeListService.searchTree(params.treeName);\r\n\t\t\t\tthis._facadeTreeListService.goToTreeRouterMode();\r\n\t\t\t});\r\n\r\n\t\tthis._store$.select(selectDonationListBeforeRegistration)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((donationListBeforeRegistration: Donation[]) => {\r\n\t\t\t\tif (Boolean(donationListBeforeRegistration)) {\r\n\t\t\t\t\tthis._donationListBeforeRegistration = donationListBeforeRegistration;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\tthis._store$.select(selectIsSelectedTree)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((isSelectedTree: boolean) => {\r\n\t\t\t\tthis.isSelectedTree = isSelectedTree;\r\n\t\t\t});\r\n\t\tconst searTreeDelay: number = 3000;\r\n\t\tthis._store$.select(selectSearchTree)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$),\r\n\t\t\t\tdelay(searTreeDelay)\r\n\t\t\t).subscribe((tree: Tree) => {\r\n\t\t\t\tif (Boolean(tree)) {\r\n\t\t\t\t\tthis.tree = tree;\r\n\t\t\t\t\tthis.totalCost = this.tree.cost;\r\n\t\t\t\t\tthis._facadeTreeListService.searchTreeSuccess();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\tthis._store$.select(selectIsTreeSearchLoading)\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((isSearchLoading: boolean) => {\r\n\t\t\t\tthis.isSearchLoading = isSearchLoading;\r\n\t\t\t});\r\n\r\n\t\tthis.myFormTreeNumber.controls.treeDonationNumber.valueChanges\r\n\t\t\t.pipe(\r\n\t\t\t\ttakeUntil(this._destroySubject$)\r\n\t\t\t).subscribe((treeNumber: string) => {\r\n\t\t\t\tif (this.myFormTreeNumber.controls.treeDonationNumber.valid) {\r\n\t\t\t\t\tthis.treeBuyNumber = Number(treeNumber);\r\n\t\t\t\t\tthis.totalCost = Number(this.treeBuyNumber) * this.tree.cost;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic ngOnDestroy(): void {\r\n\t\tthis._destroySubject$.next(true);\r\n\t\tthis._destroySubject$.complete();\r\n\t\tthis._appNavigationDonationButton.classList.remove('-app-navigation__donation-button_blinking');\r\n\t}\r\n\r\n\tpublic toggleMenuMode(): void {\r\n\t\tthis.descriptionMode = !this.descriptionMode;\r\n\t}\r\n\r\n\tpublic minusTreeBuyNumber(): void {\r\n\t\tconst currentTreeBuyNumber: number = Number(this.myFormTreeNumber.controls.treeDonationNumber.value);\r\n\t\tconst currentFormTreeBuyNumberAfterMinus: string = String(currentTreeBuyNumber - 1);\r\n\t\tthis.myFormTreeNumber.patchValue({ treeDonationNumber: currentFormTreeBuyNumberAfterMinus });\r\n\t\tthis.canMinusTreeNumber = this.isCanMinusTreeNumber();\r\n\t}\r\n\r\n\tpublic plusTreeBuyNumber(): void {\r\n\t\tconst currentTreeBuyNumber: number = Number(this.myFormTreeNumber.controls.treeDonationNumber.value);\r\n\t\tconst currentFormTreeBuyNumberAfterPlus: string = String(currentTreeBuyNumber + 1);\r\n\t\tthis.myFormTreeNumber.patchValue({ treeDonationNumber: currentFormTreeBuyNumberAfterPlus });\r\n\t\tthis.canMinusTreeNumber = true;\r\n\t}\r\n\r\n\tpublic removeTreeBuyNumber(): void {\r\n\t\tthis.myFormTreeNumber.patchValue({ treeDonationNumber: '1' });\r\n\t\tthis.canMinusTreeNumber = false;\r\n\t}\r\n\r\n\tpublic choose(): void {\r\n\t\tthis._appNavigationDonationButton.classList.add('-app-navigation__donation-button_blinking');\r\n\r\n\t\tconst chosenTreeNumber: number = Number(this.myFormTreeNumber.controls.treeDonationNumber.value);\r\n\t\tconst donation: Donation = new Donation(\r\n\t\t\t'D',\r\n\t\t\tnull,\r\n\t\t\tnew TreeDonation(\r\n\t\t\t\t'TD',\r\n\t\t\t\tchosenTreeNumber,\r\n\t\t\t\tthis.totalCost,\r\n\t\t\t\tthis.tree\r\n\t\t\t),\r\n\t\t\tnew Date()\r\n\t\t);\r\n\t\tthis.isSelectedTree = true;\r\n\t\tthis._facadeDonationListService.initNewUserDonationBeforeRegistration(donation);\r\n\t}\r\n\r\n\tpublic applyDonation(): void {\r\n\t\tthis._router.navigate(['/donation']);\r\n\t}\r\n}\r\n","<div \r\n    *ngIf=\"!isSearchLoading\"\r\n    class=\"-app-current-tree\">\r\n    <div class=\"-app-current-tree-wrapper\">\r\n        <div class=\"-app-current-tree__title-ribbon\">\r\n            <div class=\"-app-current-tree__title-ribbon_left\"></div>\r\n            <h2 class=\"-app-current-tree__title\">\r\n                {{ tree.name }}\r\n            </h2>\r\n            <div class=\"-app-current-tree__title-ribbon_right\"></div>\r\n            <div \r\n                class=\"-app-current-tree__selected-tree\"\r\n                [class.-app-current-tree__selected-tree_visible]=\"isSelectedTree\"\r\n                (click)=\"applyDonation()\"\r\n                title=\"apply donation\">\r\n            </div>\r\n        </div>\r\n        <div class=\"-app-current-tree__menu\">\r\n            <a \r\n                class=\"-app-current-tree__description-button\"\r\n                [class.-app-current-tree__description-button_description-mode]=\"descriptionMode\"\r\n                (click)=\"toggleMenuMode()\">\r\n                description\r\n            </a>\r\n            <a \r\n                class=\"-app-current-tree__details-button\"\r\n                [class.-app-current-tree__details-button_not-description-mode]=\"!descriptionMode\"\r\n                (click)=\"toggleMenuMode()\">\r\n                details\r\n            </a>\r\n        </div>\r\n        <div class=\"-app-current-tree__content-wrapper\">\r\n            <p \r\n                class=\"-app-current-tree__description\"\r\n                [class.-app-current-tree__description_not-description-mode]=\"!descriptionMode\">\r\n                {{ tree.description }}\r\n            </p>\r\n            <div \r\n                class=\"-app-current-tree__details\"\r\n                [class.-app-current-tree__details_description-mode]=\"descriptionMode\">\r\n                <img \r\n                    class=\"-app-current-tree__image\"\r\n                    src=\"{{ tree.picture }}\">\r\n                <div class=\"-app-current-tree__feature-list\">\r\n                    <div class=\"-app-current-tree__feature\">\r\n                        <div class=\"-app-current-tree__feature-title\">\r\n                            Size:\r\n                        </div>\r\n                        <div class=\"-app-current-tree__feature-sub-title\">\r\n                            {{ tree.size }}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"-app-current-tree__feature\">\r\n                        <div class=\"-app-current-tree__feature-title\">\r\n                            Environment:\r\n                        </div>\r\n                        <div class=\"-app-current-tree__feature-sub-title\">\r\n                            {{ tree.environment }}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"-app-current-tree__feature\">\r\n                        <div class=\"-app-current-tree__feature-title\">\r\n                            Key Feature:\r\n                        </div>\r\n                        <div class=\"-app-current-tree_feature-sub-title\">\r\n                            {{ tree.keyFeature }}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"-app-current-tree__cost-ribbon\">\r\n            <span class=\"-app-current-tree__cost\">\r\n                {{ totalCost | currency }}\r\n            </span>\r\n        </div>\r\n        <div class=\"-app-current-tree__donate\">\r\n            <form \r\n                class=\"-app-current-tree__form\"\r\n                [formGroup]=\"myFormTreeNumber\">\r\n                <button \r\n                    class=\"-app-current-tree__form-button -app-current-tree__form-button_remove\"\r\n                    (click)=\"removeTreeBuyNumber()\"\r\n                    [disabled]=\"!canMinusTreeNumber\">\r\n                </button>\r\n                <button \r\n                    class=\"-app-current-tree__form-button -app-current-tree__form-button_minus\"\r\n                    (click)=\"minusTreeBuyNumber()\"\r\n                    [disabled]=\"!canMinusTreeNumber\">\r\n                </button>\r\n                <input \r\n                    class=\"-app-current-tree__form-input\" \r\n                    [class.-app-current-tree__form-input_invalid]=\"myFormTreeNumber.controls['treeDonationNumber'].touched\r\n                        && myFormTreeNumber.controls['treeDonationNumber'].invalid\"\r\n                    name=\"name\"\r\n                    type=\"text\"\r\n                    formControlName=\"treeDonationNumber\"\r\n                    autocomplete=\"off\"\r\n                    title=\"max number of trees per donation - 50\">\r\n                <button \r\n                    class=\"-app-current-tree__form-button -app-current-tree__form-button_plus\"\r\n                    (click)=\"plusTreeBuyNumber()\">\r\n                </button>\r\n                <button \r\n                    class=\"-app-current-tree__form-donate-button -app-current-tree__form-donate-button_donate\"\r\n                    [disabled]=\"myFormTreeNumber.controls['treeDonationNumber'].invalid\"\r\n                    (click)=\"choose()\">\r\n                    Choose\r\n                </button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div \r\n    *ngIf=\"isSearchLoading\"\r\n    class=\"-app-loader\">\r\n    <div class=\"-app-loader__ball -app-loader__ball_first\">\r\n        <div class=\"-app-loader__inner\">\r\n        </div>\r\n    </div>\r\n    <div class=\"-app-loader__ball -app-loader__ball_second\">\r\n        <div class=\"-app-loader__inner\">\r\n        </div>\r\n    </div>\r\n    <div class=\"-app-loader__ball -app-loader__ball_third\">\r\n        <div class=\"-app-loader__inner\">\r\n        </div>\r\n    </div>\r\n    <div class=\"-app-loader__ball -app-loader__ball_fourth\">\r\n        <div class=\"-app-loader__inner\">\r\n        </div>\r\n    </div>\r\n    <div class=\"-app-loader__ball -app-loader__ball_fifth\">\r\n        <div class=\"-app-loader__inner\">\r\n        </div>\r\n    </div>\r\n    <div class=\"-app-loader__ball -app-loader__ball_sixth\">\r\n        <div class=\"-app-loader__inner\">\r\n        </div>\r\n    </div>\r\n    <div class=\"-app-loader__ball -app-loader__ball_center\">\r\n        <div class=\"-app-loader__inner\">\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { CanDeactivate } from '@angular/router';\r\nimport { CanComponentDeactivate } from '../../models/can-component-deactivate/can-component-deactivate-interface';\r\n\r\n@Injectable()\r\nexport class CanLeaveTreeCategoryGuard implements CanDeactivate<CanComponentDeactivate> {\r\n\tpublic canDeactivate(component: CanComponentDeactivate): boolean {\r\n\t\treturn component.canDeactivate ? component.canDeactivate() : true;\r\n\t}\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { TreeType } from '../../models/tree-list/tree-type';\r\n\r\n@Injectable()\r\nexport class CanProceedToTreeCategoryGuard implements CanActivate {\r\n\r\n\tprivate isExistTreeType(currentCategoryName: string): boolean {\r\n\t\tfor (const treeType in TreeType) {\r\n\t\t\tif (currentCategoryName === TreeType[treeType]) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic canActivate(next: ActivatedRouteSnapshot): boolean {\r\n\t\tconst currentCategoryName: string = next.params.categoryName;\r\n\t\tconst isTreeTypeExist: boolean = this.isExistTreeType(currentCategoryName);\r\n\t\tif (!isTreeTypeExist) {\r\n\t\t\tconst errorMessage: string = `This tree category (${currentCategoryName}) does not exist! Try more!`;\r\n\t\t\tthrow new Error(errorMessage);\r\n\t\t}\r\n\t\treturn isTreeTypeExist;\r\n\t}\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { selectTreeList } from '../../store/tree-list/tree-list.selectors';\r\nimport { Tree } from '../../models/tree-list/tree';\r\nimport { TreeType } from '../../models/tree-list/tree-type';\r\n\r\n@Injectable()\r\nexport class CanProceedToTreeGuard implements CanActivate {\r\n\r\n\tprivate _treeList: Tree[];\r\n\r\n\tprivate _currentUrl: string;\r\n\r\n\tconstructor(\r\n\t\tprivate _store$: Store\r\n\t) { }\r\n\r\n\tprivate isExistTreeCategoryRouteName(treeType: string): boolean {\r\n\t\tlet isExistTreeCategory: boolean;\r\n\t\tfor (const currentTreeType in TreeType) {\r\n\t\t\tif (treeType === TreeType[currentTreeType]) {\r\n\t\t\t\tisExistTreeCategory = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isExistTreeCategory && this._currentUrl.includes(treeType)) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate checkTree(treeRouteName: string): void {\r\n\t\tlet isExistCurrentUrlTree: boolean;\r\n\t\tconst searchTree: Tree = this._treeList.find((tree: Tree) => {\r\n\t\t\tif (Boolean(tree)) {\r\n\t\t\t\tconst currentTreeRouteName: string = tree.name.replace(/\\(|\\)/g, '')\r\n\t\t\t\t\t.toLowerCase()\r\n\t\t\t\t\t.split(' ')\r\n\t\t\t\t\t.join('-');\r\n\t\t\t\tif (treeRouteName === currentTreeRouteName) {\r\n\t\t\t\t\treturn tree;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (Boolean(searchTree)) {\r\n\t\t\tisExistCurrentUrlTree = this.isExistTreeCategoryRouteName(searchTree.type);\r\n\t\t}\r\n\t\tif (!isExistCurrentUrlTree) {\r\n\t\t\tconst errorMessage: string = `There is no tree with this name (${treeRouteName})`;\r\n\t\t\tthrow new Error(errorMessage);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\r\n\t\tthis._currentUrl = state.url;\r\n\t\tconst currentTreeRouteName: string = next.params.treeName;\r\n\t\tthis._store$.select(selectTreeList)\r\n\t\t\t.subscribe((treeList: Tree[]) => {\r\n\t\t\t\tthis._treeList = treeList;\r\n\t\t\t\tthis.checkTree(currentTreeRouteName);\r\n\t\t\t}).unsubscribe();\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n\tname: 'formatTreeCategoryTitle'\r\n})\r\nexport class FormatTreeCategoryTitlePipe implements PipeTransform {\r\n\r\n\tpublic transform(value: string): string {\r\n\t\treturn value.split('-').map((currentWord: string) => {\r\n\t\t\treturn currentWord[0].toUpperCase() + currentWord.slice(1);\r\n\t\t}).join(' ');\r\n\t}\r\n\r\n}\r\n"]}